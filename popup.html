<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Color Ratio Analyzer</title>
  <link rel="stylesheet" href="popup.css" />
</head>

<body>
  <div class="container">
    <h3>Color Ratio Analyzer</h3>

    <!-- Capture Mode Selection -->
    <div class="capture-mode">
      <label class="mode-label">Capture Mode:</label>
      <div class="toggle-container">
        <span class="toggle-text">Visible Area</span>
        <label class="toggle-switch">
          <input type="checkbox" id="captureMode">
          <span class="slider"></span>
        </label>
        <span class="toggle-text">Full Page</span>
      </div>
    </div>

    <button id="startCapture">Start Capture</button>

    <!-- Top Colors Section -->
    <div class="top-colors-section">
      <h4>Most Used Colors on Page:</h4>
      <div class="top-colors-container">
        <div class="loading-colors" id="loadingColors">Click "Detect Colors" to analyze</div>
        <div class="top-colors-list" id="topColorsList"></div>
        <button id="detectColors" class="secondary-button">Detect Colors</button>
      </div>
    </div>

    <!-- Color Selection Section -->
    <div class="color-selection-section">
      <h4>Select Colors to Analyze:</h4>

      <label for="color1" class="color-label">
        <span class="hex-display" id="hex1">#FF0000</span>
        Color 1:
        <div class="color-picker-wrapper">
          <input type="color" id="color1" value="#ff0000" />
          <span class="color-display"></span>
        </div>
      </label>

      <label for="color2" class="color-label">
        <span class="hex-display" id="hex2">#00FF00</span>
        Color 2:
        <div class="color-picker-wrapper">
          <input type="color" id="color2" value="#00ff00" />
          <span class="color-display"></span>
        </div>
      </label>

      <label for="color3" class="color-label">
        <span class="hex-display" id="hex3">#0000FF</span>
        Color 3:
        <div class="color-picker-wrapper">
          <input type="color" id="color3" value="#0000ff" />
          <span class="color-display"></span>
        </div>
      </label>
    </div>

    <button id="analyzeColors">Analyze Color Ratios</button>
    <div id="status"></div>

    <!-- Results Section -->
    <div class="results-section" id="resultsSection" style="display: none;">
      <h4>Analysis Results:</h4>
      <div class="charts-container">
        <div class="chart-item">
          <div class="chart-header">
            <span class="chart-color" id="chartColor1"></span>
            <span class="chart-label" id="chartLabel1">Color 1</span>
          </div>
          <div class="chart-bar">
            <div class="chart-fill" id="chartFill1"></div>
          </div>
          <div class="chart-percentage" id="chartPercentage1">0%</div>
        </div>

        <div class="chart-item">
          <div class="chart-header">
            <span class="chart-color" id="chartColor2"></span>
            <span class="chart-label" id="chartLabel2">Color 2</span>
          </div>
          <div class="chart-bar">
            <div class="chart-fill" id="chartFill2"></div>
          </div>
          <div class="chart-percentage" id="chartPercentage2">0%</div>
        </div>

        <div class="chart-item">
          <div class="chart-header">
            <span class="chart-color" id="chartColor3"></span>
            <span class="chart-label" id="chartLabel3">Color 3</span>
          </div>
          <div class="chart-bar">
            <div class="chart-fill" id="chartFill3"></div>
          </div>
          <div class="chart-percentage" id="chartPercentage3">0%</div>
        </div>
      </div>

      <div class="results-summary">
        <div class="summary-item">
          <strong>Total Analyzed Pixels:</strong> <span id="totalPixels">0</span>
        </div>
        <div class="summary-item">
          <strong>Capture Mode:</strong> <span id="captureModeSummary">-</span>
        </div>
        <div class="summary-item">
          <strong>Analysis Date:</strong> <span id="analysisDate">-</span>
        </div>
      </div>
    </div>
    <!-- Project Management Section -->
    <div class="project-section">
      <h4>Project Management:</h4>
      <div class="project-controls">
        <div class="project-input-group">
          <input type="text" id="projectName" placeholder="Enter project name..." maxlength="30">
          <button id="saveProject" class="project-btn">Save</button>
        </div>
        <div class="project-actions">
          <select title="Select a project" id="projectSelect">
            <option value="">Select a project...</option>
          </select>
          <button id="loadProject" class="project-btn">Load</button>
          <button id="deleteProject" class="project-btn delete-btn">Delete</button>
          <button id="exportProject" class="project-btn">Export</button>
        </div>
      </div>
    </div>
    <canvas id="stitchedCanvas"></canvas>
  </div>

  <script src="popup.js"></script>
</body>

</html>