<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Color Ratio Analyzer</title>
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div class="container">
    <h3>Color Ratio Analyzer</h3>
    
    <!-- Capture Mode Selection -->
    <div class="capture-mode">
      <label class="mode-label">Capture Mode:</label>
      <div class="toggle-container">
        <span class="toggle-text">Visible Area</span>
        <label class="toggle-switch">
          <input type="checkbox" id="captureMode">
          <span class="slider"></span>
        </label>
        <span class="toggle-text">Full Page</span>
      </div>
    </div>

    <button id="startCapture">Start Capture</button>

    <!-- Top Colors Section -->
    <div class="top-colors-section">
      <h4>Most Used Colors on Page:</h4>
      <div class="top-colors-container">
        <div class="loading-colors" id="loadingColors">Click "Detect Colors" to analyze</div>
        <div class="top-colors-list" id="topColorsList"></div>
        <button id="detectColors" class="secondary-button">Detect Colors</button>
      </div>
    </div>

    <!-- Color Selection Section -->
    <div class="color-selection-section">
      <h4>Select Colors to Analyze:</h4>
      
      <label for="color1" class="color-label">
        <span class="hex-display" id="hex1">#FF0000</span>
        Color 1:
        <div class="color-picker-wrapper">
          <input type="color" id="color1" value="#ff0000" />
          <span class="color-display"></span>
        </div>
      </label>

      <label for="color2" class="color-label">
        <span class="hex-display" id="hex2">#00FF00</span>
        Color 2:
        <div class="color-picker-wrapper">
          <input type="color" id="color2" value="#00ff00" />
          <span class="color-display"></span>
        </div>
      </label>

      <label for="color3" class="color-label">
        <span class="hex-display" id="hex3">#0000FF</span>
        Color 3:
        <div class="color-picker-wrapper">
          <input type="color" id="color3" value="#0000ff" />
          <span class="color-display"></span>
        </div>
      </label>
    </div>

    <button id="analyzeColors">Analyze Color Ratios</button>
    <div id="status"></div>
    <canvas id="stitchedCanvas"></canvas>
  </div>

  <script src="popup.js"></script>
</body>
</html>